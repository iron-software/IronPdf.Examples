# How to Compress PDFs

Compressing PDFs involves reducing the size of Portable Document Format (PDF) files to make them easier to store, share, and transfer, particularly when the files are bulky or contain numerous images.

Since images generally take up more space due to their larger file sizes compared to text and other contents in a PDF, IronPdf provides a feature that compresses embedded images and minimizes the tree structure, which is often abundant in table data contained within PDF documents.

## Example: Image Compression

The compression ratio for JPEG images ranges as follows:

- Above 90%: high-quality
- 80% to 90%: medium-quality
- 70% to 80%: low-quality

Experimenting with different compression levels will help you find a balance between maintaining image quality and reducing file size. The effect of compression on image quality varies depending on the image itself; some may degrade more noticeably than others.

```cs
using IronPdf;

// Instantiate the renderer
ChromePdfRenderer renderer = new ChromePdfRenderer();

// Create a PDF from a URL
PdfDocument pdf = renderer.RenderUrlAsPdf("https://en.wikipedia.org/wiki/Main_Page");

// Apply image compression
pdf.CompressImages(40);

// Save the compressed PDF
pdf.SaveAs("compressed.pdf");
```

### Image Compression - Example of Size Reduction

Compression resulted in a **39.24%** reduction in file size!

<div class="content-img-align-center">
    <div class="center-image-wrapper">
         <img src="https://ironpdf.com/static-assets/pdf/how-to/pdf-compression/compress-image-compare-size.png" alt="Compress images - size comparison" class="img-responsive add-shadow">
    </div>
</div>

### Exploring Image Compression Techniques

IronPdf provides two settings for image compression:

**ShrinkImage**: This method rescales the image to its visible size within the PDF, considerably reducing both size and quality, thus optimizing the file for storage and sharing.

**HighQualitySubsampling**: This setting toggles the method of chroma subsampling used for compressing images. Selecting `True` preserves full color details using 4:4:4 subsampling. Setting it to `False` results in 4:1:1 subsampling, which diminishes some color details but further reduces the file size.

Chroma subsampling helps decrease the data needed to represent an image while preserving visual quality by reducing color resolution and maintaining luminance resolution.

<hr>

## Example: Compressing Tree Structure

This functionality targets the reduction of PDF size by compressing the tree structure generated by the Chrome PDF rendering engine, especially useful when dealing with PDFs that contain a lot of tabular data. However, note that some PDFs, especially those not created by the Chrome engine, may not have this tree structure present.

There's a trade-off, as the removal of the tree structure might affect text highlighting or data extraction capabilities in some PDFs.

Test the `CompressStructTree` method using the `table.pdf` document:

```cs
using IronPdf;

// Load a PDF from file
PdfDocument pdf = PdfDocument.FromFile("table.pdf");

// Apply tree structure compression
pdf.CompressStructTree();

// Save the compressed PDF
pdf.SaveAs("compressedTable.pdf");
```

### Tree Structure Compression - Size Reduction Example

Achieved a remarkable **67.90%** reduction in size, with larger tables potentially showing even greater decreases.

<div class="content-img-align-center">
    <div class="center-image-wrapper">
         <img src="https://ironpdf.com/static-assets/pdf/how-to/pdf-compression/compress-tree-structure-compare-size.png" alt="Compress tree structure - size comparison" class="img-responsive add-shadow">
    </div>
</div>

## Advanced Compression Capabilities

IronPdf also introduces a unified `Compress` method which allows the simultaneous configuration of both image and tree structure compression for straightforward document compression.

```cs
using IronPdf;

// Load a PDF from file
PdfDocument pdf = PdfDocument.FromFile("sample.pdf");

// Configure compression options
CompressionOptions compressionOptions = new CompressionOptions();
compressionOptions.CompressImages = true;
compressionOptions.JpegQuality = 80;
compressionOptions.HighQualityImageSubsampling = true;
compressionOptions.ShrinkImages = true;
compressionOptions.RemoveStructureTree = true;

// Apply compression
pdf.Compress(compressionOptions);

// Save the compressed document
pdf.SaveAs("compressed.pdf");
```

### Exploring Configurable Compression Options

- **CompressImages**: Toggle compression of existing images using JPG encoding; default is `false`.
- **RemoveStructureTree**: Opt to remove the tree structure to use less disk space but possibly hinder text manipulation in complex documents.
- **JpegQuality**: Adjust the quality level for JPG compression (1 to 100); default is 42.
- **HighQualityImageSubsampling**: Choose between 444 (true) for higher quality or 411 (false) for smaller size in image subsampling.
- **ShrinkImages**: Decrease image resolution to reduce file size and quality.